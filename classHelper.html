<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ThingsBoard Client SDK: Helper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">ThingsBoard Client SDK<span id="projectnumber">&#160;0.16.0</span>
   </div>
   <div id="projectbrief">Client SDK to connect with ThingsBoard IoT Platform from IoT devices (Arduino, Espressif, etc.)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classHelper-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Helper Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Static helper class that includes some functionalities used in multiple places throughout the library, especially the ThingsBoardHttp and ThingsBoard implementations.  
 <a href="classHelper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Helper_8h_source.html">Helper.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1569fbb44fd76ff1a69ecfa4a0fd71c4"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a1569fbb44fd76ff1a69ecfa4a0fd71c4"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classsize__t.html">size_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classHelper.html#a1569fbb44fd76ff1a69ecfa4a0fd71c4">Calculate_Print_Size</a> (char const *format, Args const &amp;... args)</td></tr>
<tr class="memdesc:a1569fbb44fd76ff1a69ecfa4a0fd71c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total amount of bytes needed to store the formatted string with null termination, that will be created if the given format string and the arguments are passed to snprintf.  <a href="classHelper.html#a1569fbb44fd76ff1a69ecfa4a0fd71c4">More...</a><br /></td></tr>
<tr class="separator:a1569fbb44fd76ff1a69ecfa4a0fd71c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad34881381a0a92572c324d355957630d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsize__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHelper.html#ad34881381a0a92572c324d355957630d">Calculate_Symbol_Occurences</a> (<a class="el" href="classuint8__t.html">uint8_t</a> const *bytes, char symbol, uint32_t length)</td></tr>
<tr class="memdesc:ad34881381a0a92572c324d355957630d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of occurences of the given smybol in the given byte payload.  <a href="classHelper.html#ad34881381a0a92572c324d355957630d">More...</a><br /></td></tr>
<tr class="separator:ad34881381a0a92572c324d355957630d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c23d8bd4e90c7dbdeafa419161ce9f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHelper.html#a72c23d8bd4e90c7dbdeafa419161ce9f">String_IsNull_Or_Empty</a> (char const *str)</td></tr>
<tr class="memdesc:a72c23d8bd4e90c7dbdeafa419161ce9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns wheter the given string is either a nullptr or is an empty string, meaning it only contains a null terminator and no other characters.  <a href="classHelper.html#a72c23d8bd4e90c7dbdeafa419161ce9f">More...</a><br /></td></tr>
<tr class="separator:a72c23d8bd4e90c7dbdeafa419161ce9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920c6602c5c796989d0d725d2856a9b9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsize__t.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHelper.html#a920c6602c5c796989d0d725d2856a9b9">Split_Topic_Into_Request_ID</a> (char const *received_topic, <a class="el" href="classsize__t.html">size_t</a> const &amp;end_position)</td></tr>
<tr class="memdesc:a920c6602c5c796989d0d725d2856a9b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits the topic at the given position and extracts the request id parameter from the remaining string.  <a href="classHelper.html#a920c6602c5c796989d0d725d2856a9b9">More...</a><br /></td></tr>
<tr class="separator:a920c6602c5c796989d0d725d2856a9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7363487e60e3d0491749e0f1e6eb8c63"><td class="memTemplParams" colspan="2">template&lt;typename TSource &gt; </td></tr>
<tr class="memitem:a7363487e60e3d0491749e0f1e6eb8c63"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classsize__t.html">size_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classHelper.html#a7363487e60e3d0491749e0f1e6eb8c63">Measure_Json</a> (TSource const &amp;source)</td></tr>
<tr class="memdesc:a7363487e60e3d0491749e0f1e6eb8c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total size of the string the serializeJson method would produce including the null end terminator.  <a href="classHelper.html#a7363487e60e3d0491749e0f1e6eb8c63">More...</a><br /></td></tr>
<tr class="separator:a7363487e60e3d0491749e0f1e6eb8c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b1993376178c8ec2cca8be58f3a35b"><td class="memTemplParams" colspan="2">template&lt;typename InputIterator &gt; </td></tr>
<tr class="memitem:a54b1993376178c8ec2cca8be58f3a35b"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classsize__t.html">size_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classHelper.html#a54b1993376178c8ec2cca8be58f3a35b">distance</a> (InputIterator const &amp;first, InputIterator const &amp;last)</td></tr>
<tr class="memdesc:a54b1993376178c8ec2cca8be58f3a35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the distance between two iterators.  <a href="classHelper.html#a54b1993376178c8ec2cca8be58f3a35b">More...</a><br /></td></tr>
<tr class="separator:a54b1993376178c8ec2cca8be58f3a35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Static helper class that includes some functionalities used in multiple places throughout the library, especially the ThingsBoardHttp and ThingsBoard implementations. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1569fbb44fd76ff1a69ecfa4a0fd71c4" name="a1569fbb44fd76ff1a69ecfa4a0fd71c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1569fbb44fd76ff1a69ecfa4a0fd71c4">&#9670;&#160;</a></span>Calculate_Print_Size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsize__t.html">size_t</a> Helper::Calculate_Print_Size </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args const &amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total amount of bytes needed to store the formatted string with null termination, that will be created if the given format string and the arguments are passed to snprintf. </p>
<dl class="section note"><dt>Note</dt><dd>This is achieved by using the snprintf without a buffer that the string should be copied into and with the buffer size of 0. This works because the result returned by snprintf is what would have been written if the passed buffer would have been large enough not counting null character, or if an error occured while creating the string a negative number is returned instead. This value is then simply incremented by 1 and returned. Additionally to ensure no negative number is ever returned even if an error occured an assert is called beforehand to ensure the size value is bigger than 0 </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">...Args</td><td>Holds the multiple arguments that will simply be forwarded to the snprintf method, allowing any arbitrary amount of combinations without having to rely on va_list </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>Non owning pointer to the formatting message that the given arguments will be inserted into. Does not need to be kept alive, because the formatting message is only used for the scope of the method itself </td></tr>
    <tr><td class="paramname">...args</td><td>Arguments that will be forwarded into the snprintf method see <a href="https://cplusplus.com/reference/cstdio/snprintf/">https://cplusplus.com/reference/cstdio/snprintf/</a> for more information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Amount of bytes in characters, needed for the formatted string with the given arguments inserted, to be displayed completly including null termination </dd></dl>

</div>
</div>
<a id="ad34881381a0a92572c324d355957630d" name="ad34881381a0a92572c324d355957630d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad34881381a0a92572c324d355957630d">&#9670;&#160;</a></span>Calculate_Symbol_Occurences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsize__t.html">size_t</a> Helper::Calculate_Symbol_Occurences </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuint8__t.html">uint8_t</a> const *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the amount of occurences of the given smybol in the given byte payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>Non owning pointer to the byte payload that we want to check the symbol for. Does not need to be kept alive, because the byte payload is only used for the scope of the method itself </td></tr>
    <tr><td class="paramname">symbol</td><td>Symbol we want to search for </td></tr>
    <tr><td class="paramname">length</td><td>Length of the byte payload, meaning if we reach the given length and have not found any occurence of the symbol we return 0. Ensure to never pass a length that is longer than the actualy payload, because this will cause this method to read outside of the bounds of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Amount of occurences of the given symbol </dd></dl>

</div>
</div>
<a id="a54b1993376178c8ec2cca8be58f3a35b" name="a54b1993376178c8ec2cca8be58f3a35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b1993376178c8ec2cca8be58f3a35b">&#9670;&#160;</a></span>distance()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsize__t.html">size_t</a> Helper::distance </td>
          <td>(</td>
          <td class="paramtype">InputIterator const &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator const &amp;&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the distance between two iterators. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">InputIterator</td><td>Class that allows for forward incrementable access to data of the given data container, allows for using / passing either std::vector or std::array. See <a href="https://en.cppreference.com/w/cpp/iterator/input_iterator">https://en.cppreference.com/w/cpp/iterator/input_iterator</a> for more information on the requirements of the iterator </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>Iterator pointing to the first element in the data container </td></tr>
    <tr><td class="paramname">last</td><td>Iterator pointing to the end of the data container (last element + 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Distance between the two iterators </dd></dl>

</div>
</div>
<a id="a7363487e60e3d0491749e0f1e6eb8c63" name="a7363487e60e3d0491749e0f1e6eb8c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7363487e60e3d0491749e0f1e6eb8c63">&#9670;&#160;</a></span>Measure_Json()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TSource &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsize__t.html">size_t</a> Helper::Measure_Json </td>
          <td>(</td>
          <td class="paramtype">TSource const &amp;&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the total size of the string the serializeJson method would produce including the null end terminator. </p>
<dl class="section note"><dt>Note</dt><dd>Be aware that null terminator will later not be serialized in the serializeJson method, meaning the returned written amount of bytes is the return value of this method - 1. See <a href="https://arduinojson.org/v6/api/json/measurejson/">https://arduinojson.org/v6/api/json/measurejson/</a> for more information on the underlying method used </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TSource</td><td>Source class that should be used to serialize the json that is sent to the server </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Source containing our json key-value pairs that we want to measure the resulting size of the serializeJson call for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Total size required for the string that would be produced by serializeJson + 1 byte for the string null terminator </dd></dl>

</div>
</div>
<a id="a920c6602c5c796989d0d725d2856a9b9" name="a920c6602c5c796989d0d725d2856a9b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a920c6602c5c796989d0d725d2856a9b9">&#9670;&#160;</a></span>Split_Topic_Into_Request_ID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsize__t.html">size_t</a> Helper::Split_Topic_Into_Request_ID </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>received_topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsize__t.html">size_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>end_position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Splits the topic at the given position and extracts the request id parameter from the remaining string. </p>
<dl class="section note"><dt>Note</dt><dd>Should contain the request id that the original request was sent with. Is used to know which received response is connected to which inital request, so that the correct request can be informed that a response has been received. To achieve this the function removes the not needed part of the received topic string, which is everything before the request id and then simply call the atoi function on the remaning topic string. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">received_topic</td><td>Non owning pointer to the received topic that contains the base topic as well as the request id parameter (v1/devices/me/rpc/response/$request_id). Does not need to be kept alive, because the received topic is only used for the scope of the method itself </td></tr>
    <tr><td class="paramname">end_position</td><td>Number indicating the amount of characters that have to be incremented to reach the position where the $request_id lies in the received topic. Most of the time it can simply be the value returned by calling strlen() on the base version of the topic. So for example on (v1/devices/me/rpc/response/) instead of the received topic (v1/devices/me/rpc/response/42) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Converted integral request id if possible or 0 if parsing as an integer failed </dd></dl>

</div>
</div>
<a id="a72c23d8bd4e90c7dbdeafa419161ce9f" name="a72c23d8bd4e90c7dbdeafa419161ce9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c23d8bd4e90c7dbdeafa419161ce9f">&#9670;&#160;</a></span>String_IsNull_Or_Empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Helper::String_IsNull_Or_Empty </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns wheter the given string is either a nullptr or is an empty string, meaning it only contains a null terminator and no other characters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>Non owning poitner to the string that we want to check for emptiness </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Wheter the given string is a nullptr or empty </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Helper_8h_source.html">Helper.h</a></li>
<li>src/<a class="el" href="Helper_8cpp.html">Helper.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
