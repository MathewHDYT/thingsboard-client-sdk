<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ThingsBoard Client SDK: Timeoutable_Request Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">ThingsBoard Client SDK<span id="projectnumber">&#160;0.16.0</span>
   </div>
   <div id="projectbrief">Client SDK to connect with ThingsBoard IoT Platform from IoT devices (Arduino, Espressif, etc.)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classTimeoutable__Request-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Timeoutable_Request Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>General purpose request callback that can timeout if the response to the request is not received in the expected amount of time and the internal watchdog times out.  
 <a href="classTimeoutable__Request.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Timeoutable__Request_8h_source.html">Timeoutable_Request.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf29bd2f4110ac452c1e19ac177d0673"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#aaf29bd2f4110ac452c1e19ac177d0673">Timeoutable_Request</a> (uint64_t const &amp;timeout_microseconds=0U, <a class="el" href="classCallback.html#a9cb9c819e739fdf44e1a5cdaaf818bc3">Callback_Watchdog::function</a> timeout_callback=nullptr)</td></tr>
<tr class="memdesc:aaf29bd2f4110ac452c1e19ac177d0673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs request timeout callback.  <a href="classTimeoutable__Request.html#aaf29bd2f4110ac452c1e19ac177d0673">More...</a><br /></td></tr>
<tr class="separator:aaf29bd2f4110ac452c1e19ac177d0673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4763d16e94579719c90b08539a846cc2"><td class="memItemLeft" align="right" valign="top">uint64_t const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#a4763d16e94579719c90b08539a846cc2">Get_Timeout</a> () const</td></tr>
<tr class="memdesc:a4763d16e94579719c90b08539a846cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the amount of microseconds until we expect to have received a response.  <a href="classTimeoutable__Request.html#a4763d16e94579719c90b08539a846cc2">More...</a><br /></td></tr>
<tr class="separator:a4763d16e94579719c90b08539a846cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81052e600adce56bd94a2ced5b0cca2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#ac81052e600adce56bd94a2ced5b0cca2">Set_Timeout</a> (uint64_t const &amp;timeout_microseconds)</td></tr>
<tr class="memdesc:ac81052e600adce56bd94a2ced5b0cca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the amount of microseconds until we expect to have received a response.  <a href="classTimeoutable__Request.html#ac81052e600adce56bd94a2ced5b0cca2">More...</a><br /></td></tr>
<tr class="separator:ac81052e600adce56bd94a2ced5b0cca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91541070b84e8c772c05470b4b0c241d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#a91541070b84e8c772c05470b4b0c241d">Update_Timeout_Timer</a> ()</td></tr>
<tr class="memdesc:a91541070b84e8c772c05470b4b0c241d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the internal timeout timer.  <a href="classTimeoutable__Request.html#a91541070b84e8c772c05470b4b0c241d">More...</a><br /></td></tr>
<tr class="separator:a91541070b84e8c772c05470b4b0c241d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f085588ffe503f3e128ef2e07fb153"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#ad0f085588ffe503f3e128ef2e07fb153">Start_Timeout_Timer</a> ()</td></tr>
<tr class="memdesc:ad0f085588ffe503f3e128ef2e07fb153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the internal timeout timer if we actually received a configured valid timeout time and a valid callback.  <a href="classTimeoutable__Request.html#ad0f085588ffe503f3e128ef2e07fb153">More...</a><br /></td></tr>
<tr class="separator:ad0f085588ffe503f3e128ef2e07fb153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c768fba2e2033141000c1cabb5393d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#ad7c768fba2e2033141000c1cabb5393d">Stop_Timeout_Timer</a> ()</td></tr>
<tr class="memdesc:ad7c768fba2e2033141000c1cabb5393d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the internal timeout timer, is called as soon as an answer is received from the cloud. If this method is not called in time the initally subscribed callback will be used to inform the user of the timeout instead.  <a href="classTimeoutable__Request.html#ad7c768fba2e2033141000c1cabb5393d">More...</a><br /></td></tr>
<tr class="separator:ad7c768fba2e2033141000c1cabb5393d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016fe218e059d47b66315a51a22e6d19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeoutable__Request.html#a016fe218e059d47b66315a51a22e6d19">Set_Timeout_Callback</a> (<a class="el" href="classCallback.html#a9cb9c819e739fdf44e1a5cdaaf818bc3">Callback_Watchdog::function</a> timeout_callback)</td></tr>
<tr class="memdesc:a016fe218e059d47b66315a51a22e6d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback method that will be called upon request timeout (did not receive a response from the cloud in the given timeout time)  <a href="classTimeoutable__Request.html#a016fe218e059d47b66315a51a22e6d19">More...</a><br /></td></tr>
<tr class="separator:a016fe218e059d47b66315a51a22e6d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >General purpose request callback that can timeout if the response to the request is not received in the expected amount of time and the internal watchdog times out. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaf29bd2f4110ac452c1e19ac177d0673" name="aaf29bd2f4110ac452c1e19ac177d0673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf29bd2f4110ac452c1e19ac177d0673">&#9670;&#160;</a></span>Timeoutable_Request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Timeoutable_Request::Timeoutable_Request </td>
          <td>(</td>
          <td class="paramtype">uint64_t const &amp;&#160;</td>
          <td class="paramname"><em>timeout_microseconds</em> = <code>0U</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCallback.html#a9cb9c819e739fdf44e1a5cdaaf818bc3">Callback_Watchdog::function</a>&#160;</td>
          <td class="paramname"><em>timeout_callback</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs request timeout callback. </p>
<dl class="section note"><dt>Note</dt><dd>Will be called when no response to the request was received in the expected amount of time, causing the internal watchdog to time out. To achieve this behaviour the internal timer can be started and stopped, and simply calls the subscribed callback if the timer is not stopped before it times out </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_microseconds</td><td>Amount of microseconds until a response should have been received from the server, counted from the moment the request is sent. If a response is not received in the timeout time, the timeout callback method will be called to inform the user that the request has failed. If the value is 0 the timer will not be started and therefore never call the timeout callback method, default = 0 </td></tr>
    <tr><td class="paramname">timeout_callback</td><td><a class="el" href="classCallback.html" title="General purpose safe callback wrapper. Expects either c-style or c++ style function pointer,...">Callback</a> method that will be called upon request timeout (did not receive a response in the given timeout time). Can happen if the requested method does not exist on the cloud, or if the connection could not be established. A nullptr means even if a timeout occured the callback is simply ignored and the user not informed, default = nullptr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4763d16e94579719c90b08539a846cc2" name="a4763d16e94579719c90b08539a846cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4763d16e94579719c90b08539a846cc2">&#9670;&#160;</a></span>Get_Timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t const  &amp; Timeoutable_Request::Get_Timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the amount of microseconds until we expect to have received a response. </p>
<dl class="section return"><dt>Returns</dt><dd>Timeout time until timeout callback is called </dd></dl>

</div>
</div>
<a id="ac81052e600adce56bd94a2ced5b0cca2" name="ac81052e600adce56bd94a2ced5b0cca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac81052e600adce56bd94a2ced5b0cca2">&#9670;&#160;</a></span>Set_Timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timeoutable_Request::Set_Timeout </td>
          <td>(</td>
          <td class="paramtype">uint64_t const &amp;&#160;</td>
          <td class="paramname"><em>timeout_microseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the amount of microseconds until we expect to have received a response. </p>
<dl class="section note"><dt>Note</dt><dd>The value of 0, means the timeout timer is never started and therefore the timeout callback never called </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_microseconds</td><td>Timeout time until timeout callback is called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a016fe218e059d47b66315a51a22e6d19" name="a016fe218e059d47b66315a51a22e6d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016fe218e059d47b66315a51a22e6d19">&#9670;&#160;</a></span>Set_Timeout_Callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timeoutable_Request::Set_Timeout_Callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCallback.html#a9cb9c819e739fdf44e1a5cdaaf818bc3">Callback_Watchdog::function</a>&#160;</td>
          <td class="paramname"><em>timeout_callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the callback method that will be called upon request timeout (did not receive a response from the cloud in the given timeout time) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_callback</td><td><a class="el" href="classCallback.html" title="General purpose safe callback wrapper. Expects either c-style or c++ style function pointer,...">Callback</a> function that will be called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad0f085588ffe503f3e128ef2e07fb153" name="ad0f085588ffe503f3e128ef2e07fb153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f085588ffe503f3e128ef2e07fb153">&#9670;&#160;</a></span>Start_Timeout_Timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timeoutable_Request::Start_Timeout_Timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the internal timeout timer if we actually received a configured valid timeout time and a valid callback. </p>
<dl class="section note"><dt>Note</dt><dd>The timeout time is valid if it is not 0 and the callback is valid if it is not a nullptr. Is not mean to be called explicitly by the user, because it is instead called when necessary by internal methods that handle the class instance </dd></dl>

</div>
</div>
<a id="ad7c768fba2e2033141000c1cabb5393d" name="ad7c768fba2e2033141000c1cabb5393d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c768fba2e2033141000c1cabb5393d">&#9670;&#160;</a></span>Stop_Timeout_Timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timeoutable_Request::Stop_Timeout_Timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the internal timeout timer, is called as soon as an answer is received from the cloud. If this method is not called in time the initally subscribed callback will be used to inform the user of the timeout instead. </p>
<dl class="section note"><dt>Note</dt><dd>Is not mean to be called explicitly by the user, because it is instead called when necessary by internal methods that handle the class instance </dd></dl>

</div>
</div>
<a id="a91541070b84e8c772c05470b4b0c241d" name="a91541070b84e8c772c05470b4b0c241d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91541070b84e8c772c05470b4b0c241d">&#9670;&#160;</a></span>Update_Timeout_Timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timeoutable_Request::Update_Timeout_Timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the internal timeout timer. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Timeoutable__Request_8h_source.html">Timeoutable_Request.h</a></li>
<li>src/<a class="el" href="Timeoutable__Request_8cpp.html">Timeoutable_Request.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
